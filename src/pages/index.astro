---
import { Schema } from "astro-seo-schema";

import Layout from "@layouts/index.astro";

import About from "@components/About/index.astro";
import Spotify from "@components/Spotify/index.astro";
import CurrentMoonInfo from "@components/MoonInfo/CurrentMoonInfo.astro";
import CurrentlyBuilding from "@components/CurrentlyBuilding/index.astro";
import FeaturedBlogs from "@components/General/Blog/FeaturedList/index.astro";

import moonFacts from "@utils/moonFacts";
import { homePageKeywords } from "@utils/metaKeywords";
import FeaturedTools from "@components/Tools/FeaturedTools.astro";

import "@assets/styles/homePage.scss";
import { Image } from "astro:assets";

import fluteImage from "../components/About/flutenobg (2).png";
---

<head>
  <Schema
    item={{
      "@context": "https://schema.org",
      "@type": "WebSite",
      name: "Sahil Rana",
      alternateName: [
        "Sahil Singh Rana",
        "Sahil Portfolio",
        "Sahil Rana Portfolio",
        "SSR",
        "Sahil",
        "Rana",
      ],
      url: "https://sahilrana.in",
      image: "https://avatars.githubusercontent.com/u/48375250?v=4",
      description:
        "Official website of Sahil Rana, a MERN stack and JavaScript developer specializing in modern, scalable, and performance-driven web applications.",
      publisher: {
        "@type": "Person",
        name: "Sahil Rana",
        url: "https://sahilrana.in",
        image: "https://avatars.githubusercontent.com/u/48375250?v=4",
        sameAs: [
          "https://sahilsinghrana.github.io",
          "https://www.linkedin.com/in/sahilsinghrana",
          "https://x.com/sahilrana010",
          "https://github.com/sahilsinghrana",
          "https://instagram.com/sahilrana0_0",
        ],
      },
    }}
  />
</head>

<Layout
  title="Sahil Rana | Software Developer"
  description="Welcome to my portfolio! I am a software engineer specializing in web development, with expertise in cutting-edge technologies like React.js, Node.js, and MongoDB. Explore my projects and skills to see how I can help bring your ideas to life!"
  keywords={homePageKeywords}
  className="homePage"
>
  <About />
  <CurrentMoonInfo />
  <div class="saggittariusLink" style="position: relative;">
    <p>Interested in Sagittarius ?</p>
    <a href="/resources/constellations/sagittarius">Click Me!!</a>
    <Image
      src={fluteImage}
      alt={"FLutee"}
      class="flutebgcommand"
      height={150}
      width={150}
      style={"position: absolute;transform: rotate(45deg);z-index: -1;top: -45px; opacity: 0.4; mix-blend-mode: lighten;"}
    />
  </div>

  <CurrentlyBuilding />

  <div id="shlokaWrapper" style="position: relative;">
    <blockquote id="shlokaDevanagari"></blockquote>
    <q id="shlokaTranslation"></q>
    <p id="shlokaChapter"></p>
  </div>

  <FeaturedTools />
  <FeaturedBlogs />
  <Spotify />
  <div class="moonFact">
    {moonFacts.darkSide.fact}
  </div>
</Layout>

<style>
  .saggittariusLink {
    text-align: center;
    margin-top: 20px;
    font-size: 0.9rem;
    font-family: "Raleway", sans-serif;

    border: 2px solid rgba(1, 84, 125, 0.4);
    padding: 10px;

    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;

    opacity: 0.7;

    border-radius: 10px;
  }

  .saggittariusLink:hover {
    opacity: 1;
    border: 2px solid rgba(1, 84, 125, 0.8);
    transition: all 0.3s ease-in-out;
  }

  .saggittariusLink a {
    border-radius: 10px;
    text-decoration: none;
    color: rgba(88, 164, 202, 0.9);
    font-weight: bolder;
    padding: 7px;
    border: 1px solid rgba(1, 84, 125, 0.6);
    margin-top: 5px;
    font-size: 0.75rem;
  }

  .saggittariusLink p {
    margin: 0;
    font-weight: bold;
    color: whitesmoke;
  }

  #shlokaWrapper {
    outline: 4px solid rgba(200, 130, 44, 0.3);
    border-radius: 12px;
    padding: 8px;

    margin-top: 30px;
    margin-bottom: 30px;
  }
  #shlokaDevanagari {
    font-size: 1.15rem;
    opacity: 0.9;
    text-align: center;
    font-weight: unset;
    margin: 7px 0 5px 0;
    padding-bottom: 10px;
    border-bottom: 2px solid rgba(241, 239, 237, 0.2);
  }

  #shlokaTranslation {
    font-size: 0.85rem;
    text-align: justify;
    font-style: italic;
    margin-bottom: 7px;
    width: 100%;
    margin-top: 10px;
  }

  #shlokaChapter {
    font-size: 0.75rem;
    text-align: right;
    font-style: italic;
    margin-top: 10px;
    color: #ccc;
    font-weight: bold;
    margin-right: 5px;
  }
</style>

<script>
  import { getRandomShloka } from "@utils/constants";

  const shlokaData = getRandomShloka();

  const shlokaDevanagari = document.getElementById("shlokaDevanagari");
  const shlokaTranslation = document.getElementById("shlokaTranslation");
  const shlokaChapter = document.getElementById("shlokaChapter");

  if (shlokaDevanagari) shlokaDevanagari.innerText = shlokaData.text;
  if (shlokaTranslation) shlokaTranslation.innerText = shlokaData.translation;
  if (shlokaChapter)
    shlokaChapter.innerText = "- Bhagvat Geeta" + `(${shlokaData.chapter})`;
</script>
