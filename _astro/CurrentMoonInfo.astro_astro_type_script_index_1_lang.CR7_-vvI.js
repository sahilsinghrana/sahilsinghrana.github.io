import{g as M}from"./currentMoonData.DE33Rzal.js";function y(){const d=M().lunarAgePercent?.replace("%","")||"0",r=document.getElementById("moonPhaseCanvas"),t=r.getContext("2d"),s=document.getElementById("moonPhaseImage");let c=!1;s.onload=()=>{c=!0,h(+d)},s.onerror=()=>{c=!1,h(+d)},s.complete&&s.naturalWidth!==0?(c=!0,h(+d)):s.complete?(c=!1,console.warn("Ganymede Image is broken or empty."),h(+d)):console.log("Waiting for image load...");function h(e){const o=r.width/2,a=o,n=o,l=e%100;t.clearRect(0,0,r.width,r.height);const f=l<50;if(l===0||l===100){u();return}if(l===50){P();return}c?t.drawImage(s,0,0,r.width,r.height):w(),b(a,n,o,f),p(l)}function w(){const e=r.width/2,o=t.createRadialGradient(e,e,10,e,e,e);o.addColorStop(0,"#fff"),o.addColorStop(1,"#ccc"),t.fillStyle=o,t.beginPath(),t.arc(e,e,e,0,Math.PI*2),t.fill()}function u(){const e=r.width/2,o=e,a=e;t.save();const n=t.createRadialGradient(o,a,e*.9,o,a,e*1.5);n.addColorStop(0,"rgba(255, 255, 255, 0.15)"),n.addColorStop(.6,"rgba(255, 255, 255, 0.05)"),n.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=n,t.beginPath(),t.arc(o,a,e*1.5,0,Math.PI*2),t.fill(),t.shadowColor="rgba(255,255,255,0.4)",t.shadowBlur=60,t.beginPath(),t.arc(o,a,e*.95,0,Math.PI*2),t.fillStyle="#111",t.fill(),t.restore(),t.fillStyle="#888"}function P(){const e=r.width/2,o=e,a=e;t.save();const n=t.createRadialGradient(o,a,e*.2,o,a,e*1.3);n.addColorStop(0,"rgba(255, 255, 255, 0.9)"),n.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=n,t.beginPath(),t.arc(o,a,e*1.3,0,Math.PI*2),t.fill(),t.restore();const l=t.createRadialGradient(o,a,10,o,a,e);l.addColorStop(0,"#fff"),l.addColorStop(1,"#ddd"),t.fillStyle=l,t.beginPath(),t.arc(o,a,e*.95,0,Math.PI*2),t.fill(),t.fillStyle="#fff",t.font="18px sans-serif",t.textAlign="center",t.fillText("ðŸŒ• Full Moon",o,a+e+20)}function b(e,o,a,n){t.save();const l=t.createRadialGradient(n?e+a/2:e-a/2,o,a*.3,e,o,a*1.2);l.addColorStop(0,"rgba(255,255,255,0.4)"),l.addColorStop(1,"rgba(255,255,255,0)"),t.globalCompositeOperation="lighter",t.fillStyle=l,t.beginPath(),t.arc(e,o,a*1.1,0,Math.PI*2),t.fill(),t.restore()}function p(e){const o=r.width/2,a=o,n=o,l=e%100;if(l===0||l===100||l===50)return;const f=l<50,S=f?l/50:(100-l)/50,m=o*2*S,C=a+(f?m:-m),I=6,g=document.createElement("canvas");g.width=r.width,g.height=r.height;const i=g.getContext("2d");i.beginPath(),i.arc(a,n,o,0,Math.PI*2,!1),i.arc(C,n,o,0,Math.PI*2,!0),i.closePath(),i.fillStyle="black",i.shadowColor="black",i.shadowBlur=I,i.fill(),t.save(),t.globalCompositeOperation="destination-in",t.drawImage(g,0,0),t.restore(),t.save(),t.globalCompositeOperation="destination-over",t.fillStyle="black",t.fillRect(0,0,r.width,r.height),t.restore()}}setTimeout(()=>{y()},500);
