import{g as y}from"./currentMoonData.DE33Rzal.js";function v(u){return(100-u)%101}function G(){const u=y().lunarAgePercent?.replace("%","")||"0",d=v(u),n=document.getElementById("moonPhaseCanvas"),t=n.getContext("2d"),c=document.getElementById("moonPhaseImage");let s=!1;c.onload=()=>{s=!0,h(+d)},c.onerror=()=>{s=!1,h(+d)},c.complete&&c.naturalWidth!==0?(s=!0,h(+d)):c.complete?(s=!1,console.warn("Ganymede Image is broken or empty."),h(+d)):console.log("Waiting for image load...");function h(o){const e=n.width/2,a=e,r=e,l=o%100;t.clearRect(0,0,n.width,n.height);const f=l<50;if(l===0||l===100){w();return}if(l===50){b();return}s?t.drawImage(c,0,0,n.width,n.height):m(),p(a,r,e,f),S(l)}function m(){const o=n.width/2,e=t.createRadialGradient(o,o,10,o,o,o);e.addColorStop(0,"#fff"),e.addColorStop(1,"#ccc"),t.fillStyle=e,t.beginPath(),t.arc(o,o,o,0,Math.PI*2),t.fill()}function w(){const o=n.width/2,e=o,a=o;t.save();const r=t.createRadialGradient(e,a,o*.9,e,a,o*1.5);r.addColorStop(0,"rgba(255, 255, 255, 0.15)"),r.addColorStop(.6,"rgba(255, 255, 255, 0.05)"),r.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=r,t.beginPath(),t.arc(e,a,o*1.5,0,Math.PI*2),t.fill(),t.shadowColor="rgba(255,255,255,0.4)",t.shadowBlur=60,t.beginPath(),t.arc(e,a,o*.95,0,Math.PI*2),t.fillStyle="#111",t.fill(),t.restore(),t.fillStyle="#888"}function b(){const o=n.width/2,e=o,a=o;t.save();const r=t.createRadialGradient(e,a,o*.2,e,a,o*1.3);r.addColorStop(0,"rgba(255, 255, 255, 0.9)"),r.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=r,t.beginPath(),t.arc(e,a,o*1.3,0,Math.PI*2),t.fill(),t.restore();const l=t.createRadialGradient(e,a,10,e,a,o);l.addColorStop(0,"#fff"),l.addColorStop(1,"#ddd"),t.fillStyle=l,t.beginPath(),t.arc(e,a,o*.95,0,Math.PI*2),t.fill(),t.fillStyle="#fff",t.font="18px sans-serif",t.textAlign="center",t.fillText("ðŸŒ• Full Moon",e,a+o+20)}function p(o,e,a,r){t.save();const l=t.createRadialGradient(r?o+a/2:o-a/2,e,a*.3,o,e,a*1.2);l.addColorStop(0,"rgba(255,255,255,0.4)"),l.addColorStop(1,"rgba(255,255,255,0)"),t.globalCompositeOperation="lighter",t.fillStyle=l,t.beginPath(),t.arc(o,e,a*1.1,0,Math.PI*2),t.fill(),t.restore()}function S(o){const e=n.width/2,a=e,r=e,l=o%100;if(l===0||l===100||l===50)return;const f=l<50,C=f?l/50:(100-l)/50;if(t.save(),t.globalCompositeOperation="destination-in",l===25||l===75)t.beginPath(),t.arc(a,r,e,0,Math.PI*2),t.clip(),t.fillStyle="black",l===25?t.fillRect(0,0,e,n.height):t.fillRect(e,0,e,n.height);else{const P=e*2*C,I=a+(f?P:-P),M=6,g=document.createElement("canvas");g.width=n.width,g.height=n.height;const i=g.getContext("2d");i.beginPath(),i.arc(a,r,e,0,Math.PI*2,!1),i.arc(I,r,e,0,Math.PI*2,!0),i.closePath(),i.fillStyle="black",i.shadowColor="black",i.shadowBlur=M,i.fill(),t.drawImage(g,0,0)}t.restore(),t.save(),t.globalCompositeOperation="destination-over",t.fillStyle="black",t.fillRect(0,0,n.width,n.height),t.restore()}}setTimeout(()=>{G()},500);
