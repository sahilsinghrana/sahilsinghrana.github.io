import{g as S}from"./currentMoonData.DE33Rzal.js";const f=S().lunarAgePercent?.replace("%","")||"0",r=document.getElementById("moonPhaseCanvas"),t=r.getContext("2d"),c=document.getElementById("moonPhaseImage");let h=c.complete&&c.naturalWidth!==0;h?g(f):(c.onload=()=>{h=!0,g(f)},c.onerror=()=>{h=!1,g(f)});function g(e){const o=r.width/2,a=o,l=o,n=e%100;t.clearRect(0,0,r.width,r.height);const d=n<50;if(n===0||n===100){p();return}if(n===50){C();return}h?t.drawImage(c,0,0,r.width,r.height):m(),I(a,l,o,d),M(n)}function m(){const e=r.width/2,o=t.createRadialGradient(e,e,10,e,e,e);o.addColorStop(0,"#fff"),o.addColorStop(1,"#ccc"),t.fillStyle=o,t.beginPath(),t.arc(e,e,e,0,Math.PI*2),t.fill()}function p(){const e=r.width/2,o=e,a=e;t.save();const l=t.createRadialGradient(o,a,e*.9,o,a,e*1.5);l.addColorStop(0,"rgba(255, 255, 255, 0.15)"),l.addColorStop(.6,"rgba(255, 255, 255, 0.05)"),l.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=l,t.beginPath(),t.arc(o,a,e*1.5,0,Math.PI*2),t.fill(),t.shadowColor="rgba(255,255,255,0.4)",t.shadowBlur=60,t.beginPath(),t.arc(o,a,e*.95,0,Math.PI*2),t.fillStyle="#111",t.fill(),t.restore(),t.fillStyle="#888"}function C(){const e=r.width/2,o=e,a=e;t.save();const l=t.createRadialGradient(o,a,e*.2,o,a,e*1.3);l.addColorStop(0,"rgba(255, 255, 255, 0.9)"),l.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=l,t.beginPath(),t.arc(o,a,e*1.3,0,Math.PI*2),t.fill(),t.restore();const n=t.createRadialGradient(o,a,10,o,a,e);n.addColorStop(0,"#fff"),n.addColorStop(1,"#ddd"),t.fillStyle=n,t.beginPath(),t.arc(o,a,e*.95,0,Math.PI*2),t.fill(),t.fillStyle="#fff",t.font="18px sans-serif",t.textAlign="center",t.fillText("ðŸŒ• Full Moon",o,a+e+20)}function I(e,o,a,l){t.save();const n=t.createRadialGradient(l?e+a/2:e-a/2,o,a*.3,e,o,a*1.2);n.addColorStop(0,"rgba(255,255,255,0.4)"),n.addColorStop(1,"rgba(255,255,255,0)"),t.globalCompositeOperation="lighter",t.fillStyle=n,t.beginPath(),t.arc(e,o,a*1.1,0,Math.PI*2),t.fill(),t.restore()}function M(e){const o=r.width/2,a=o,l=o,n=e%100;if(n===0||n===100||n===50)return;const d=n<50,P=d?n/50:(100-n)/50,w=o*2*P,u=a+(d?w:-w),b=6,s=document.createElement("canvas");s.width=r.width,s.height=r.height;const i=s.getContext("2d");i.beginPath(),i.arc(a,l,o,0,Math.PI*2,!1),i.arc(u,l,o,0,Math.PI*2,!0),i.closePath(),i.fillStyle="black",i.shadowColor="black",i.shadowBlur=b,i.fill(),t.save(),t.globalCompositeOperation="destination-in",t.drawImage(s,0,0),t.restore(),t.save(),t.globalCompositeOperation="destination-over",t.fillStyle="black",t.fillRect(0,0,r.width,r.height),t.restore()}
